(this.webpackJsonpvidly=this.webpackJsonpvidly||[]).push([[0],{21:function(e,t,a){e.exports=a(35)},26:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l);a(26),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(27),a(28);var i=a(39),o=(a(29),a(40)),s=a(20),u=a(38),m=a(17),d=a(2),h=a(3),b=a(5),f=a(4),p=[{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"}];function v(){return p.filter((function(e){return e}))}var g=[{_id:"5b21ca3eeb7f6fbccd471815",title:"Terminator",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:6,dailyRentalRate:2.5,publishDate:"2018-01-03T19:04:28.809Z"},{_id:"5b21ca3eeb7f6fbccd471816",title:"Die Hard",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:5,dailyRentalRate:2.5},{_id:"5b21ca3eeb7f6fbccd471817",title:"Get Out",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:8,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471819",title:"Trip to Italy",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471820",title:"Airplane",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471821",title:"Wedding Crashers",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471822",title:"Gone Girl",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:7,dailyRentalRate:4.5},{_id:"5b21ca3eeb7f6fbccd471823",title:"The Sixth Sense",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:4,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471824",title:"The Avengers",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47sad825",title:"Tsdfsrs",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccad471826",title:"sdfsdf",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5}];function y(){return g}function E(e){var t=g.find((function(t){return t._id===e._id}))||{};return t.title=e.title,t.genre=p.find((function(t){return t.name===e.genre})),t.numberInStock=e.numberInStock,t.dailyRentalRate=e.dailyRentalRate,t._id||(t._id=Date.now().toString(),g.push(t)),console.log(g),t}function S(e){var t=g.find((function(t){return t._id===e}));return g.splice(g.indexOf(t),1),t}var k=a(9),C=a.n(k),R=function(e){var t=e.totalMovies/e.numberOfMoviesEachPage;if(t<=1)return null;var a=C.a.range(1,t+1);return r.a.createElement("div",null,r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination"},a.map((function(t){return r.a.createElement("li",{key:t,className:e.currentPage===t?"page-item active":"page-item"},r.a.createElement("a",{className:"page-link",onClick:function(){return e.onClick(t)}},t))})))))};function O(e,t,a){var n=(t-1)*a;return C()(e).slice(n).take(a).value()}var j=function(e){var t=e.genres,a=e.onGenreChange;return r.a.createElement("ul",{className:"list-group"},t.map((function(t,n){return r.a.createElement("li",{key:n,className:t.name===e.currentGenre?"list-group-item active":"list-group-item",onClick:function(){return a(t.name)}},t.name)})))},N=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("i",{className:this.props.liked,"aria-hidden":"true",onClick:this.props.onLikeClick})}}]),a}(n.Component),w=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).raiseSort=function(t){var a;a=e.props.sortColumn.path===t&&"asc"===e.props.sortColumn.order?"desc":"asc",e.props.onSort({path:t,order:a})},e.renderSortIcon=function(t){var a=e.props.sortColumn;return t.path!==a.path?null:"asc"===a.order?r.a.createElement("i",{className:"fa fa-sort-asc","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-sort-desc","aria-hidden":"true"})},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("thead",null,r.a.createElement("tr",null,this.props.columns.map((function(t,a){return r.a.createElement("th",{className:"clickable",key:t.path||t.key,onClick:function(){return e.raiseSort(t.path)}},t.label," ",e.renderSortIcon(t))}))))}}]),a}(n.Component),I=a(16),_=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).renderCell=function(e,t,a){return t.content?t.content(e,a):C.a.get(e,t.path)},e.createKey=function(e,t){return e._id+(t.path||t.key)},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.columns;return r.a.createElement("tbody",null,a.map((function(t,a){return r.a.createElement("tr",{key:t._id},n.map((function(n){return"title"===n.path?r.a.createElement("td",{key:e.createKey(t,n)},r.a.createElement(I.a,{to:"/movies/".concat(t._id)},e.renderCell(t,n,a))):r.a.createElement("td",{key:e.createKey(t,n)},e.renderCell(t,n,a))})))})))}}]),a}(n.Component),A=function(e){var t=e.columns,a=e.onSort,n=e.sortColumn,l=e.data;return r.a.createElement("table",{style:{width:"auto"},className:"table"},r.a.createElement(w,{columns:t,onSort:a,sortColumn:n}),r.a.createElement(_,{data:l,columns:t}))},G=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).columns=[{path:"title",label:"Title"},{path:"genre.name",label:"Genre"},{path:"numberInStock",label:"Stock"},{path:"dailyRentalRate",label:"Rate"},{key:"like",content:function(t,a){return r.a.createElement(N,{liked:e.props.likesArray[a],onLikeClick:function(){return e.props.onLike(a)}})}},{key:"delete",content:function(t,a){return r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.props.onDelete(t,a)}},"Delete")}}],e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.movies,a=e.onSort,n=e.sortColumn;return r.a.createElement(A,{columns:this.columns,onSort:a,sortColumn:n,data:t})}}]),a}(n.Component),T=function(e){var t=e.value,a=e.onChange;return r.a.createElement("input",{value:t,onChange:function(e){return a(e)},className:"form-control my-3 w-50",type:"search",placeholder:"Search","aria-label":"Search"})},P=y();console.log(P.map((function(e){return"fa fa-heart-o"})));var B=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={movies:P,likesArray:["fa fa-heart-o","fa fa-heart-o","fa fa-heart-o","fa fa-heart-o","fa fa-heart-o","fa fa-heart-o","fa fa-heart-o","fa fa-heart-o","fa fa-heart-o","fa fa-heart-o","fa fa-heart-o"],pageSize:4,currentPage:1,currentGenre:"All genres",genres:[{name:"All genres"}].concat(Object(m.a)(v())),sortColumn:{path:"title",order:"acs"},searchBar:""},e.handleDelete=function(t,a){var n=e.state.movies.filter((function(e){return e._id!==t._id})),r=e.state.likesArray.filter((function(e,t){return t!==a}));e.setState({movies:n,likesArray:r}),0===a&&e.setState({currentPage:e.state.currentPage-1}),S(t._id),console.log(y())},e.styles={fontSize:50},e.handleLike=function(t){var a=Object(m.a)(e.state.likesArray);a[t]=13===a[t].length?"fa fa-heart":"fa fa-heart-o",e.setState({likesArray:a})},e.handlePagination=function(t){e.setState({currentPage:t})},e.handleGenreChange=function(t){e.setState({currentGenre:t,currentPage:1,searchBar:""})},e.handleSort=function(t){e.setState({sortColumn:{path:t.path,order:t.order}})},e.getPageDate=function(){var t="All genres"===e.state.currentGenre?e.state.movies:"Searched"===e.state.currentGenre?e.state.movies.filter((function(t){return t.title.slice(0,e.state.searchBar.length).toLowerCase()===e.state.searchBar})):e.state.movies.filter((function(t){return t.genre.name===e.state.currentGenre}));return{filtered:t,data:O(C.a.orderBy(t,[e.state.sortColumn.path],[e.state.sortColumn.order]),e.state.currentPage,e.state.pageSize)}},e.handleSearchBarChange=function(t){var a=t.currentTarget.value.toLowerCase();e.setState({searchBar:a,currentGenre:"Searched",currentPage:1})},e}return Object(h.a)(a,[{key:"render",value:function(){if(0===this.state.movies.length)return r.a.createElement("p",null,"There are no movies in the database");var e=this.getPageDate(),t=e.filtered,a=e.data;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement(j,{onGenreChange:this.handleGenreChange,currentGenre:this.state.currentGenre,genres:this.state.genres})),r.a.createElement("div",{className:"col"},r.a.createElement(s.a,{render:function(e){var t=e.history;return r.a.createElement("button",{className:"btn btn-primary",style:{marginBottom:20},onClick:function(){t.push("/movies/new")}},"New Movie")}}),r.a.createElement("p",null,"Showing ",t.length," movies in the database"),r.a.createElement(T,{value:this.state.searchBar,onChange:this.handleSearchBarChange}),r.a.createElement(G,{movies:a,onDelete:this.handleDelete,onLike:this.handleLike,likesArray:this.state.likesArray,onSort:this.handleSort,sortColumn:this.state.sortColumn}),r.a.createElement(R,{totalMovies:t.length,numberOfMoviesEachPage:this.state.pageSize,currentPage:this.state.currentPage,onClick:this.handlePagination,currentGenre:this.state.currentGenre}))))}}]),a}(n.Component),D=function(){return r.a.createElement("h1",null,"Rentals")},q=function(){return r.a.createElement("h1",null,"Customers")},L=function(){return r.a.createElement("h1",null,"Not Found")},M=a(6),x=a.n(M),F=a(15),z=a(11),U=function(e){var t=e.type,a=e.value,n=e.name,l=e.error,c=e.label,i=e.onChange;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:n},c),r.a.createElement("input",{type:t,onChange:i,value:a,name:n,className:"form-control",id:n,"aria-describedby":"emailHelp"}),l&&r.a.createElement("div",{className:"alert alert-danger"},l))},K=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:{},errors:{}},e.validate=function(){var t=x.a.validate(e.state.data,e.schema,{abortEarly:!1}),a={};return t.error?(t.error.details.map((function(e){a[e.path[0]]=e.message})),a):null},e.validateProperty=function(t){var a=t.name,n=t.value,r=Object(z.a)({},a,n),l=Object(z.a)({},a,e.schema[a]),c=x.a.validate(r,l);return c.error?c.error.details[0].message:null},e.handleChange=function(t){var a=Object(F.a)({},e.state.errors),n=e.validateProperty(t.currentTarget);n?a[t.currentTarget.name]=n:delete a[t.currentTarget.name];var r=Object(F.a)({},e.state.data);r[t.currentTarget.name]=t.currentTarget.value,e.setState({data:r,errors:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();e.setState({errors:a||{}}),a||e.doSubmit()},e.handleChangeSelect=function(t){var a=Object(F.a)({},e.state.data);a.genre=t.currentTarget.value,e.setState({data:a})},e}return Object(h.a)(a,[{key:"renderButton",value:function(e){return r.a.createElement("button",{disabled:this.validate(),type:"submit",className:"btn btn-primary"},e)}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=this.state.errors;return r.a.createElement(U,{type:a,onChange:this.handleChange,value:this.state.data[e],name:e,label:t,error:n[e]})}},{key:"renderSelect",value:function(e,t){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"inputGroupSelect01"},t),r.a.createElement("select",{value:this.state.data[e],onChange:this.handleChangeSelect,className:"custom-select",id:"inputGroupSelect01"},r.a.createElement("option",{defaultValue:!0}),r.a.createElement("option",{value:"Action"},"Action"),r.a.createElement("option",{value:"Comedy"},"Comedy"),r.a.createElement("option",{value:"Thriller"},"Thriller")))}}]),a}(n.Component),W=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:{title:"",genre:"",numberInStock:"",dailyRentalRate:""},errors:{},id:0},e.schema={title:x.a.string().required().label("Title"),genre:x.a.string().required().label("Genre"),numberInStock:x.a.number().min(0).max(100).required().label("Number in Stock"),dailyRentalRate:x.a.number().max(10).min(0).required().label("Daily Rental Rate")},e.doSubmit=function(){console.log("Submitted"),S(e.state.id),E(e.state.data),e.props.history.push("/movies")},e.componentDidMount=function(){var t=e.props.match.params.id,a=y().find((function(e){return e._id===t}));console.log(a),e.setState({data:{title:a.title,genre:a.genre.name,numberInStock:a.numberInStock,dailyRentalRate:a.dailyRentalRate},id:t})},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Movie Form"),this.renderInput("title","Title"),this.renderSelect("genre","Genre"),this.renderInput("numberInStock","Name in Stock","number"),this.renderInput("dailyRentalRate","Rate"),this.renderButton("Save")))}}]),a}(K),H=a(37),J=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"#navbarNavAltMarkup"},"Vidli"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(H.a,{className:"nav-item nav-link",to:"/movies"},"Movies"),r.a.createElement(H.a,{className:"nav-item nav-link",to:"/customers"},"Customers"),r.a.createElement(H.a,{className:"nav-item nav-link",to:"/rentals"},"Rentals"),r.a.createElement(H.a,{className:"nav-item nav-link",to:"/login"},"Login"),r.a.createElement(H.a,{className:"nav-item nav-link",to:"/register"},"Register"))))},V=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:{username:"",password:""},errors:{}},e.schema={username:x.a.string().required().label("Username"),password:x.a.string().required().label("Password")},e.doSubmit=function(){console.log("Submitted")},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Login"),this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderButton("Login")))}}]),a}(K),Z=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:{username:"",password:"",name:""},errors:{}},e.schema={username:x.a.string().email().required().label("Username"),password:x.a.string().min(5).required().label("Password"),name:x.a.string().required().label("Name")},e.doSubmit=function(){console.log("Submitted")},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Login"),this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderInput("name","Name"),this.renderButton("Register")))}}]),a}(K),$=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:{title:"",genre:"",numberInStock:"",dailyRentalRate:""},errors:{}},e.schema={title:x.a.string().required().label("Title"),genre:x.a.string().required().label("Genre"),numberInStock:x.a.number().min(0).greater(0).required().label("Number in Stock"),dailyRentalRate:x.a.number().max(10).min(0).required().label("Daily Rental Rate")},e.doSubmit=function(){console.log("Submitted"),E(e.state.data),e.props.history.push("/movies")},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Movie Form"),this.renderInput("title","Title"),this.renderSelect("genre","Genre"),this.renderInput("numberInStock","Name in Stock","number"),this.renderInput("dailyRentalRate","Rate"),this.renderButton("Save")))}}]),a}(K);var Q=function(){return r.a.createElement("div",null,r.a.createElement(J,null),r.a.createElement("main",{className:"container"},r.a.createElement(o.a,null,r.a.createElement(s.a,{path:"/login",component:V}),r.a.createElement(s.a,{path:"/rentals",component:D}),r.a.createElement(s.a,{path:"/customers",component:q}),r.a.createElement(s.a,{path:"/movies/:id",component:W}),r.a.createElement(s.a,{path:"/not-found",component:L}),r.a.createElement(s.a,{path:"/register",component:Z}),r.a.createElement(s.a,{path:"/movies/new",component:$}),r.a.createElement(s.a,{path:"/movies",component:B}),r.a.createElement(s.a,{path:"/",exact:!0,component:B}),r.a.createElement(u.a,{to:"/not-found"}))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(Q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.e63932f8.chunk.js.map